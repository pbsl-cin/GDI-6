# USE ✓
# FIND ✓
# SIZE
# AGGREGATE ✓
# MATCH ✓
# PROJECT ✓
# GTE
# GROUP 
# SUM
# COUNT (COUNTDOCUMENTS) 
# MAX
# AVG 
# EXISTS
# SORT ✓
# LIMIT 
# $WHERE
# MAPREDUCE
# FUNCTION
# PRETTY ✓
# ALL
# SET 
# TEXT
# SEARCH
# FILTER ✓
# UPDATE (UPDATEONE/UPDATEMANY)
# SAVE (UPDATEONE/INSERTONE)
# RENAMECOLLECTION
# COND ✓
# LOOKUP
# FINDONE
# ADDTOSET

# Seleciona o banco de dados
use escola-idiomas

# Consulta o nome dos estudantes que estão aprendendo Chinês, assim como o seu progresso no idioma e o número da última atividade concluída
db.alunos.find({"cursos.idioma":"chines"}, {_id:false, "nome":true, "cursos.$":true})

# Consulta a idade média dos estudantes de japonês >>>>>>>>>>> DESATUALIZADO <<<<<<<<<<<
db.students.aggregate([{$match:{"learning.Japanese":{$exists: true}}}, {$group:{_id:null, "Average japanese student age":{$avg:"$age"}}}])

# Consulta o nome e o progresso atual dos 5 estudantes de inglês mais avançados no idioma ordenados de maneira decrescente
db.alunos.aggregate([{$match:{"cursos.idioma":"ingles"}},{$project:{_id:false, nome:true, cursos:{$filter:{input:"$cursos", as: "curso", cond:{$eq:["$$curso.idioma", "ingles"]}}}}}, {$sort:{"cursos.progresso":-1}}])
